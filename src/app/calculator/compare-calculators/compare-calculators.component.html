

<div class="compare_cal_box">
  <div class="route_head_box">
  <h4 class="page_heading">Route Calculator</h4>
</div>
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <!-- parameters Column -->
    <ng-container matColumnDef="parameters">
      <th mat-header-cell *matHeaderCellDef class="bold-header" style="font-weight: bold;color: black;"> Parameters
      </th>
      <td mat-cell *matCellDef="let element" class="bold-cell pointer"> {{element.parameters}} </td>
    </ng-container>

    <!-- calculator1 Column -->
    <ng-container matColumnDef="calculator1">
      <th mat-header-cell *matHeaderCellDef class="bold-header" style="font-weight: bold;color: black;">
        <div class="calculator-title"><i class="fa-solid fa-route me-2 txt_p"></i><p class="first_latter">{{fetchedDataArray[0]?.expenses.calculatorName}}</p></div>
      </th>
      <td mat-cell *matCellDef="let element, let i=index" class="pointer"> {{i>2 ? (+element?.calculator1|
        currency:'USD':'symbol':'1.0-0') : element?.calculator1}} </td>
    </ng-container>

    <!-- calculator2 Column -->
    <ng-container matColumnDef="calculator2">
      <th mat-header-cell *matHeaderCellDef class="bold-header" style="font-weight: bold;color: black;">
        <div class="calculator-title"><i class="fa-solid fa-route me-2 txt_p"></i><p class="first_latter">{{fetchedDataArray[1]?.expenses.calculatorName}}</p></div>
      </th>
      <td mat-cell *matCellDef="let element, let i=index" class="pointer"> {{i>2 ? (+element?.calculator2 |
        currency:'USD':'symbol':'1.0-0'): element?.calculator2}} </td>
    </ng-container>

    <!-- calculator3 Column -->
    <ng-container *ngIf="displayedColumns.includes('calculator3')" matColumnDef="calculator3">
      <th mat-header-cell *matHeaderCellDef class="bold-header" style="font-weight: bold;color: black;">
        <div class="calculator-title"><i class="fa-solid fa-route me-2 txt_p"></i><p class="first_latter">{{fetchedDataArray[2]?.expenses.calculatorName}}</p></div>
      </th>
      <td mat-cell *matCellDef="let element, let i=index" class="pointer"> {{i>2 ? (+element?.calculator3|
        currency:'USD':'symbol':'1.0-0') : element?.calculator3}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

 

  <div style="margin-top: 20px; box-shadow: 0px 3px 13px 4px #00000040;">
    <mat-accordion id="calculator_accordion">
      <mat-expansion-panel (opened)="panelOpened('company')">
        <mat-expansion-panel-header>
          <mat-panel-title style="font-weight: bold;">
            Company & Office expenses
          </mat-panel-title>
          <mat-panel-description>
            <span *ngFor="let item of fetchedDataArray, let i= index"><strong class="ms-1 me-1">{{
                item?.expenses?.total?.companyOfficeTotal ? (item?.expenses?.total?.companyOfficeTotal.toFixed(2) |
                currency:'USD':'symbol':'1.0-0') : '0.00' }}
              </strong>
            </span>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <mat-card>

           <div class="common_cart" style="margin-top: 50px;background-color: white;" *ngIf="!loader">
            <canvas id="myChart1"></canvas>
          </div> 
          
  <div class="skeletonloader card_con mt-3" *ngIf="loader" >
    <div class="rpvc_skt" *ngFor="let fake of generateFakeSkeleton(2)">
      <ngx-skeleton-loader count="1"
        [theme]="{ 'border-radius': '0', width: '100%', height: '36px', margin: '0 0 24px' }"></ngx-skeleton-loader>
      <div class="rpvc_skt_bx">
      </div>
    </div>
  </div>

        </mat-card>
      
      
      </mat-expansion-panel>

      <mat-expansion-panel (opened)="panelOpened('truck')">
        <mat-expansion-panel-header>
          <mat-panel-title style="font-weight: bold;">
            Truck Expenses
          </mat-panel-title>
          <mat-panel-description>
            <span *ngFor="let item of fetchedDataArray, let i= index"><strong
                class="ms-1 me-1">{{item?.expenses?.total?.truckExpensesTotal ? (item?.expenses?.total?.truckExpensesTotal?.toFixed(2)|
                currency:'USD':'symbol':'1.0-0'):'0.00'}}</strong>
            </span>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <mat-card>

          <div class="common_cart" style="margin-top: 50px;background-color: white;" *ngIf="!loader">
            <canvas id="myChart2"></canvas>
          </div>

          <div class="skeletonloader card_con mt-3" *ngIf="loader" >
            <div class="rpvc_skt" *ngFor="let fake of generateFakeSkeleton(2)">
              <ngx-skeleton-loader count="1"
                [theme]="{ 'border-radius': '0', width: '100%', height: '36px', margin: '0 0 24px' }"></ngx-skeleton-loader>
              <div class="rpvc_skt_bx">
              </div>
            </div>
          </div>
        </mat-card>
      </mat-expansion-panel>

      <mat-expansion-panel (opened)="panelOpened('trailer')">
        <mat-expansion-panel-header>
          <mat-panel-title style="font-weight: bold;">
            Trailer Expenses
          </mat-panel-title>
          <mat-panel-description>
            <span *ngFor="let item of fetchedDataArray, let i= index"><strong
                class="ms-1 me-1">{{item?.expenses?.total?.trailerExpensesTotal ? (item?.expenses?.total?.trailerExpensesTotal?.toFixed(2)|
                currency:'USD':'symbol':'1.0-0'):'0.00'}}</strong>
            </span>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <mat-card>

          <div class="common_cart" style="margin-top: 50px;background-color: white;" *ngIf="!loader">
            <canvas id="myChart3"></canvas>
          </div>

          <div class="skeletonloader card_con mt-3" *ngIf="loader" >
            <div class="rpvc_skt" *ngFor="let fake of generateFakeSkeleton(2)">
              <ngx-skeleton-loader count="1"
                [theme]="{ 'border-radius': '0', width: '100%', height: '36px', margin: '0 0 24px' }"></ngx-skeleton-loader>
              <div class="rpvc_skt_bx">
              </div>
            </div>
          </div>
        </mat-card>
      </mat-expansion-panel>

      <mat-expansion-panel (opened)="panelOpened('driver')">
        <mat-expansion-panel-header>
          <mat-panel-title style="font-weight: bold;">
            Drive Expenses
          </mat-panel-title>
          <mat-panel-description>
            <span *ngFor="let item of fetchedDataArray, let i= index"><strong
                class="ms-1 me-1">{{item?.expenses?.total?.driverExpensesTotal ? (item?.expenses?.total?.driverExpensesTotal?.toFixed(2)|
                currency:'USD':'symbol':'1.0-0'):'0.00'}}</strong>
            </span>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <mat-card>

          <div class="common_cart" style="margin-top: 50px;background-color: white;" *ngIf="!loader">
            <canvas id="myChart4"></canvas>
          </div>

          <div class="skeletonloader card_con mt-3" *ngIf="loader" >
            <div class="rpvc_skt" *ngFor="let fake of generateFakeSkeleton(2)">
              <ngx-skeleton-loader count="1"
                [theme]="{ 'border-radius': '0', width: '100%', height: '36px', margin: '0 0 24px' }"></ngx-skeleton-loader>
              <div class="rpvc_skt_bx">
              </div>
            </div>
          </div>
        </mat-card>
      </mat-expansion-panel>

      <mat-expansion-panel (opened)="panelOpened('onroad')">
        <mat-expansion-panel-header>
          <mat-panel-title style="font-weight: bold;">
            On Road Expenses
          </mat-panel-title>
          <mat-panel-description>
            <span *ngFor="let item of fetchedDataArray, let i= index"><strong class="ms-1 me-1">{{
                item?.expenses?.total?.onRoadExpensesTotal ? (item?.expenses?.total?.onRoadExpensesTotal | currency:'USD':'symbol':'1.0-0')
                : '0.00' }}</strong>
            </span>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <mat-card>

          <div class="common_cart" style="margin-top: 50px;background-color: white;" *ngIf="!loader">
            <canvas id="myChart5"></canvas>
          </div>

          <div class="skeletonloader card_con mt-3" *ngIf="loader" >
            <div class="rpvc_skt" *ngFor="let fake of generateFakeSkeleton(2)">
              <ngx-skeleton-loader count="1"
                [theme]="{ 'border-radius': '0', width: '100%', height: '36px', margin: '0 0 24px' }"></ngx-skeleton-loader>
              <div class="rpvc_skt_bx">
              </div>
            </div>
          </div>

        </mat-card>
      </mat-expansion-panel>

      <mat-expansion-panel (opened)="panelOpened('miscellaneous')">
        <mat-expansion-panel-header>
          <mat-panel-title style="font-weight: bold;">
            Miscellaneous and other
          </mat-panel-title>
          <mat-panel-description>
            <span *ngFor="let item of fetchedDataArray, let i= index"><strong
                class="ms-1 me-1">{{item?.expenses?.total?.miscellaneousTotal ? (item?.expenses?.total?.miscellaneousTotal?.toFixed(2)|
                currency:'USD':'symbol':'1.0-0'):'0.00'}}</strong>
            </span>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <mat-card>
         
          <div class="common_cart" style="margin-top: 50px;background-color: white;" *ngIf="!loader">
            <canvas id="myChart6"></canvas>
          </div>

          <div class="skeletonloader card_con mt-3" *ngIf="loader" >
            <div class="rpvc_skt" *ngFor="let fake of generateFakeSkeleton(2)">
              <ngx-skeleton-loader count="1"
                [theme]="{ 'border-radius': '0', width: '100%', height: '36px', margin: '0 0 24px' }"></ngx-skeleton-loader>
              <div class="rpvc_skt_bx">
              </div>
            </div>
          </div>
        </mat-card>
      </mat-expansion-panel>

    </mat-accordion>
   
  </div>

